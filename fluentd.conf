<source>
  @type tail
  path C:/authnull-agent/endpoint-agent.log
  pos_file C:/authnull-agent/fluentd/endpoint-agent.pos
  tag windows-agent.log
<parse>
    @type none
</parse>
</source>
<filter windows-agent.log>
  @type record_transformer
  enable_ruby true
<record>
    orgId "84"
    tenantId "7"
    component "endpoint-agent"
    IP "20.121.113.241"
</record>
</filter>
 
<match windows-agent.log>
  @type http
  endpoint https://prod.api.authnull.com/api/v1/log/endpoint/logit
  http_method post
  serializer json
<buffer>
    @type file
    path C:/authnull-agent/fluentd/buffer
    flush_mode immediate
</buffer>
</match>
